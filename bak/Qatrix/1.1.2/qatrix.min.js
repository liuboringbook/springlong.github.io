!function(e,t,n){var r="1.1.2",o=t.documentElement,i=/(^\n+)|(\n+$)/g,a=/^(?:\{.*\}|\[.*\])$/,s=/-([a-z])/gi,u=/\r\n/g,l=/[\-\+0-9\.]/gi,c=/\s+/,f=/\?/,p=/opacity=([^)]*)/,d=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,m=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,y=/(?:^|:|,)(?:\s*\[)+/g,h="height margin-top margin-bottom padding-top padding-bottom".split(" "),v={},b={},T=[],w=function(){$each(T,function(e,t){t()}),t.removeEventListener("DOMContentLoaded",w,!1)},N=function(e,n){var r=typeof n;if("string"===r){var o=e&&e.ownerDocument||t,i=o.createDocumentFragment(),a=$new("div");for(a.innerHTML=n;null!=a.childNodes[0];)i.appendChild(a.childNodes[0]);n=i,a=null}return"number"===r&&(n+=""),n},j=function(e,t){if(null!==e){if(t===n)return e;var r=0,o=e.length;if(o!==n&&o>0){for(;o>r&&t.call(e[r],e[r],e[r++])!==!1;);return e}return t.call(e,e)}},x=function(e,n,r,o){return j(e,function(e){var i,a,s={},u="show"===n,l=e.style,c=e._display;c||(c=$style.get(e,"display"),("none"===c||"inherit"===c)&&(i=$append(t.body,$new(e.nodeName)),c=$style.get(i,"display"),$remove(i)),e._display=c),u?l.display=c:c="none",r?(a=$style.get(e,"overflow"),l.overflow="hidden",s.opacity=u?{from:0,to:1}:{from:1,to:0},$each(h,function(t,n){s[n]=u?{from:0,to:$style.get(e,n)}:0}),$animate(e,s,r,function(){$each(h,function(t,n){$css.set(e,n,"")}),l.filter=l.opacity=l.overflow="",l.display=c,o&&o.call(e)})):l.display=c})},C=function(e,t){if("object"==typeof t){var n=[];return $each(t,function(t,r){"object"==typeof r?n.push(C(e+"["+t+"]",r)):n.push(e+"["+$url(t)+"]="+$url(r))}),n.join("&")}return $url(e)+"="+$url(t)},S=t.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},E={$:function(e){return t.getElementById(e)},$each:function(e,t){var n,r=0,o=e.length,i=typeof e,a="object"===i;if(a&&o-1 in e)for(;o>r&&t.call(e[r],r,e[r++])!==!1;);else if(a)for(n in e)t.call(e[n],n,e[n]);else t.call(e,0,e);return e},$id:function(e,t){var n,r=[];return $each(e instanceof Array?e:e.split(" "),function(e,t){n=$(t),null!==n&&r.push(n)}),t?j(r,t):r},$dom:function(e,t){return t&&(e.length?j(e,t):t(e)),e},$tag:function(e,t,n){var r=[],o=e.getElementsByTagName(t),i=o.length,a=0;if(i>0){for(;i>a;a++)r.push(o[a]);return j(r,n)}return r},$class:t.getElementsByClassName?function(e,t,n){var r=[],o=e.getElementsByClassName(t),i=o.length,a=0;if(i>0){for(;i>a;a++)r.push(o[a]);return j(r,n)}return r}:function(e,t,n){var r=[],o=new RegExp("(^|\\s)"+t+"(\\s|$)");return $tag(e,"*",function(e){o.test(e.className)&&r.push(e)}),j(r,n)},$select:t.querySelectorAll?function(e,n){return j(t.querySelectorAll(e),n)}:function(e,n){var r=E.Qselector.styleSheet,o=[];return r.addRule(e,"q:a"),$tag(t,"*",function(e){"a"===e.currentStyle.q&&o.push(e)}),r.cssText="",j(o,n)},$new:function(e,n){var r=t.createElement(e);if(n)try{return $each(n,function(e,t){switch(e){case"css":case"style":$css.set(r,t);break;case"innerHTML":case"html":$html(r,t);break;case"className":case"class":$className.set(r,t);break;case"text":$text(r,t);break;default:$attr.set(r,e,t)}}),r}catch(o){}finally{r=null}return r},$string:{camelCase:function(e){return e.replace("-ms-","ms-").replace(s,function(e,t){return(t+"").toUpperCase()})},replace:function(e,t){for(var n in t)e=e.replace(new RegExp(n,"ig"),t[n]);return e},slashes:function(e){return $string.replace(e,{"\\\\":"\\\\","\b":"\\b","	":"\\t","\n":"\\n","\r":"\\r",'"':'\\"'})},trim:"".trim?function(e){return e.trim()}:function(e){return(e+"").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}},$attr:{get:function(e,t){return e.getAttribute(t)},set:function(e,t,n){return j(e,function(e){e.setAttribute(t,n)})},remove:function(e,t){return j(e,function(e){e.removeAttribute(t)})}},$data:{get:function(e,t){var n=$attr.get(e,"data-"+t);return"true"===n?!0:"false"===n?!1:"null"===n?"":null===n?"":""===n?"":!isNaN(parseFloat(n))&&isFinite(n)?+n:a.test(n)?$json.decode(n):n},set:function(e,t,n){return j(e,function(e){return n="object"==typeof n?$json.encode(n):n,"object"==typeof t?$each(t,function(t,n){$attr.set(e,"data-"+t,n)}):$attr.set(e,"data-"+t,n),e})},remove:function(e,t){return j(e,function(e){$attr.remove(e,"data-"+t)})}},$storage:e.localStorage?{set:function(e,t){localStorage[e]="object"==typeof t?$json.encode(t):t},get:function(e){var t=localStorage[e];return $json.isJSON(t)?$json.decode(t):t||""},remove:function(e){return localStorage.removeItem(e),!0}}:{set:function(e,t){t="object"==typeof t?$json.encode(t):t,$data.set(E.storage,e,t),E.storage.save("Qstorage")},get:function(e){return E.storage.load("Qstorage"),$data.get(E.storage,e)||""},remove:function(e){return E.storage.load("Qstorage"),$data.remove(E.storage,e),!0}},$event:{guid:0,global:{},handler:{call:function(e,t,n,r){var o=$event.handler;n.currentTarget=t,(r===!1||r.call(t,n)===!1)&&(o.stopPropagation.call(n),o.preventDefault.call(n))},preventDefault:function(){var e=this.originalEvent;e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.stopPropagation()},mouseenter:function(e){return function(t){var n=t.relatedTarget;if(this!==n){for(;n&&n!==this;)n=n.parentNode;n!==this&&e.call(this,t)}}}},on:function(e,r,o,i,a){return j(e,function(e){if(3===e.nodeType||8===e.nodeType)return!1;if("object"==typeof r){"string"!=typeof o&&(i=i||o,o=n);for(type in r)$event.on(e,type,o,i,r[type]);return this}null==i&&null==a?(a=o,i=o=n):null==a&&("string"==typeof o?(a=i,i=n):(a=i,i=o,o=n)),e.guid===n&&($event.guid++,e.guid=$event.guid,$event.global[$event.guid]={});var s=e.guid,u=(o||"")+r,l=$event.global[s][u];return l||($event.global[s][u]={}),delegate_fn=function(r){var s,u,l={},c="altKey bubbles button buttons cancelable relatedTarget clientX clientY ctrlKey fromElement offsetX offsetY pageX pageY screenX screenY shiftKey toElement timeStamp".split(" ");if($each(c,function(e,t){r[t]!==n&&(l[t]=r[t])}),l.originalEvent=r,l.preventDefault=$event.handler.preventDefault,l.stopPropagation=$event.handler.stopPropagation,l.stopImmediatePropagation=$event.handler.stopImmediatePropagation,l.delegateTarget=e,l.data=i,u=l.target=o?r.target||r.srcElement||t:e,l.which=r.which||r.charCode||r.keyCode,l.metaKey=r.metaKey||r.ctrlKey,o)for(s=o?o.replace(".",""):"";u!==e;u=u.parentNode){if(null===u||u===t.body)return!1;(u.tagName.toLowerCase()===o||$className.has(u,s))&&$event.handler.call(r,u,l,a)}else $event.handler.call(r,u,l,a)},e.addEventListener?(("mouseenter"===r||"mouseleave"===r)&&(r="mouseenter"===r?"mouseover":"mouseout",delegate_fn=$event.handler.mouseenter(delegate_fn)),e.addEventListener(r,delegate_fn,"blur"===r||"focus"===r)):e.attachEvent("on"+r,delegate_fn),$event.global[s][u][a+""]=delegate_fn,e})},off:function(e,t,n,r){if("object"==typeof t){for(type in t)$event.off(e,type,t[type]);return this}null==r&&(r=n,n=null);var o=e.guid,i=(n||"")+t;fn_key=r+"",r?(S(e,t,$event.global[o][i][fn_key]),delete $event.global[o][i][fn_key]):($each($event.global[o][i],function(n,r){S(e,t,r)}),delete $event.global[o][i])}},$clear:function(e){return e&&(clearTimeout(e),clearInterval(e)),null},$ready:function(e){if("complete"===t.readyState)return setTimeout(e,1);if(t.addEventListener)return T.push(e),t.addEventListener("DOMContentLoaded",w,!1),void 0;var n=function(){try{o.doScroll("left")}catch(t){return setTimeout(n,1),void 0}e()};n()},$css:{get:function(e,t){if("object"==typeof t){var n={};return $each(t,function(t,r){n[r]=$style.get(e,r)}),n}return $style.get(e,t)},set:function(e,t,n){return j(e,function(e){return"object"==typeof t?$each(t,function(t,n){$style.set(e,$string.camelCase(t),$css.fix(t,n))}):$style.set(e,$string.camelCase(t),$css.fix(t,n)),e})},number:{fontWeight:!0,lineHeight:!0,opacity:!0,zIndex:!0},unit:function(e,t){if($css.number[e])return"";var n=(t+"").replace(l,"");return""===n?"px":n},fix:function(e,t){return"number"!=typeof t||$css.number[e]||(t+="px"),null===t&&isNaN(t)?!1:t}},$style:{get:e.getComputedStyle?function(e,n){if(null!==e){var r=t.defaultView.getComputedStyle(e,null).getPropertyValue(n);return"auto"===r||""===r?0:r}return!1}:function(e,t){if(null!==e){var n="opacity"===t?p.test(e.currentStyle.filter)?.01*parseFloat(RegExp.$1)+"":1:e.currentStyle[$string.camelCase(t)];return"auto"===n?0:n}return!1},set:o.style.opacity!==n?function(e,t,n){return j(e,function(e){return e.style[t]=n,!0})}:function(e,t,n){return j(e,function(e){return e.currentStyle&&e.currentStyle.hasLayout||(e.style.zoom=1),"opacity"===t?(e.style.filter="alpha(opacity="+100*n+")",e.style.zoom=1):e.style[t]=n,!0})}},$pos:function(e,t,n){return j(e,function(e){return $style.set(e,"left",t+"px"),$style.set(e,"top",n+"px"),e})},$offset:function(n){var r=t.body,i=n.getBoundingClientRect();return{top:i.top+(e.scrollY||r.parentNode.scrollTop||n.scrollTop)-(o.clientTop||r.clientTop||0),left:i.left+(e.scrollX||r.parentNode.scrollLeft||n.scrollLeft)-(o.clientLeft||r.clientLeft||0),width:n.offsetWidth,height:n.offsetHeight}},$append:function(e,t){return j(e,function(e){return e.appendChild(N(e,t))})},$prepend:function(e,t){return j(e,function(e){return e.firstChild?e.insertBefore(N(e,t),e.firstChild):e.appendChild(N(e,t))})},$before:function(e,t){return j(e,function(e){return e.parentNode.insertBefore(N(e,t),e)})},$after:function(e,t){return j(e,function(e){return e.nextSibling?e.parentNode.insertBefore(N(e,t),e.nextSibling):e.parentNode.appendChild(N(e,t))})},$remove:function(e){return j(e,function(e){return $empty(e),e.guid!==n&&delete $event.global[e.guid],null!==e&&e.parentNode?e.parentNode.removeChild(e):e})},$empty:function(e){return j(e,function(e){for(;e.firstChild;)1===e.nodeType&&e.guid!==n&&delete $event.global[e.guid],e.removeChild(e.firstChild);return e})},$html:function(e,t){return j(e,function(e){if(t){try{e.innerHTML=t}catch(n){$append($empty(e),t)}return e}return 1===e.nodeType?e.innerHTML:null})},$text:function(e,n){return j(e,function(e){if(n)return $empty(e),e.appendChild(t.createTextNode(n)),e;var r,o="",a=e.textContent;if((a||e.innerText)===e.innerHTML)o=a?$string.trim(e.textContent.replace(i,"")):e.innerText.replace(u,"");else for(e=e.firstChild;e;e=e.nextSibling)r=e.nodeType,3===r&&""!==$string.trim(e.nodeValue)&&(o+=e.nodeValue.replace(i,"")+(e.nextSibling&&e.nextSibling.tagName&&"br"!==e.nextSibling.tagName.toLowerCase()?"\n":"")),(1===r||2===r)&&(o+=$text(e)+("block"===$style.get(e,"display")||"br"===e.tagName.toLowerCase()?"\n":""));return o})},$className:{add:function(e,t){return j(e,function(e){if(""===e.className)e.className=t;else{var n=e.className,r=[];$each(t.split(c),function(e,t){new RegExp("\\b("+t+")\\b").test(n)||r.push(" "+t)}),e.className+=r.join("")}return e})},set:function(e,t){return j(e,function(e){return e.className=t,e})},has:function(e,t){return new RegExp("\\b("+t.split(c).join("|")+")\\b").test(e.className)},remove:function(e,t){return j(e,function(e){return e.className=t?$string.trim(e.className.replace(new RegExp("\\b("+t.split(c).join("|")+")\\b"),"").split(c).join(" ")):"",e})}},$hide:function(e,t,n){x(e,"hide",t,n)},$show:function(e,t,n){x(e,"show",t,n)},$toggle:function(e,t,n){return j(e,function(e){"none"===$style.get(e,"display")?$show(e,t,n):$hide(e,t,n)})},$animate:function(){var e=o.style;return e.webkitTransition!==n||e.MozTransition!==n||e.OTransition!==n||e.msTransition!==n||e.transition!==n}()?function(){var e=o.style,t=e.webkitTransition!==n?"Webkit":e.MozTransition!==n?"Moz":e.OTransition!==n?"O":e.msTransition!==n?"ms":"",r=t+"Transition";return function(e,t,o,i){return j(e,function(e){var a,s=[],u=[],l=[],c=[],f=e.style;o=o||300;for(a in t)u[a]=$string.camelCase(a),t[a].from!==n?(t[a].to=t[a].to||0,s[a]=$css.number[a]?t[a].to:parseInt(t[a].to,10),l[a]=$css.unit(a,t[a].to),$style.set(e,u[a],parseInt(t[a].from,10)+l[a])):(s[a]=$css.number[a]?t[a]:parseInt(t[a],10),l[a]=$css.unit(a,t[a]),$style.set(e,u[a],$style.get(e,u[a]))),c.push(a);return setTimeout(function(){f[r]="all "+o+"ms",$each(c,function(e,t){f[u[t]]=s[t]+l[t]})},15),setTimeout(function(){f[r]="",i&&i.call(e)},o),e})}}():function(e,t,r,o){return j(e,function(e){var i,a,s,u=0,l=0,c=0,f=0,p=30,d=[],$=[],g=[],m=[],y=[];r=r||300;for(a in t)g.push($string.camelCase(a)),t[a].from!==n?(i=t[a].to,$.push($css.number[a]?t[a].from:parseInt(t[a].from,10)),$style.set(e,g[l],$[l]+$css.unit(a,i))):(i=t[a],$.push(parseInt($style.get(e,$string.camelCase(a)),10))),d.push($css.number[a]?i:parseInt(i,10)),m.push($css.unit(a,i)),l++,f++;for(c=0;p>c;c++)for(y[c]=[],l=0;f>l;l++)y[c][g[l]]=$[l]+(d[l]-$[l])/p*c+("opacity"===g[l]?"":m[l]);for(;p>l;l++)s=setTimeout(function(){for(l=0;f>l;l++)$style.set(e,g[l],y[u][g[l]]);u++},r/p*l);return setTimeout(function(){for(l=0;f>l;l++)$style.set(e,g[l],d[l]+m[l]);o&&o.call(e)},r),e})},$fadeout:function(e,t,n){return j(e,function(e){$animate(e,{opacity:{from:1,to:0}},t||500,n)})},$fadein:function(e,t,n){return j(e,function(e){$animate(e,{opacity:{from:0,to:1}},t||500,n)})},$cookie:{get:function(e){for(var n,r,o=t.cookie.split("; "),i=0,a=o.length;a>i;i++)if(n=o[i].split("="),n[0]===e)return r=decodeURIComponent(n[1]),$json.isJSON(r)?$json.decode(r):r+"";return null},set:function(e,n,r){if("object"==typeof e)return r=n,$each(e,function(e,t){$cookie.set(e,t,r)});var o=new Date;return o.setTime(o.getTime()),r=r?";expires="+new Date(o.getTime()+864e5*r).toGMTString():"",n="object"==typeof n?$json.encode(n):n,t.cookie=e+"="+$url(n)+r+";path=/"},remove:function(){return $each(arguments,function(e,t){$cookie.set(t,"",-1)}),!0}},$json:{decode:e.JSON?function(e){return $json.isJSON(e)?JSON.parse($string.trim(e)):!1}:function(e){return $json.isJSON(e)?new Function("return "+$string.trim(e))():!1},encode:e.JSON?function(e){return JSON.stringify(e)}:function(e){function t(e){var t,n,r,o,i=[];for(t in e){if(r=e[t],n=typeof r,"undefined"===n)return;if("function"!==n){switch(n){case"object":o=null===r?r:r.getDay?'"'+(1e3-10*~r.getUTCMonth()+r.toUTCString()+1e3+r/1).replace(/1(..).*?(\d\d)\D+(\d+).(\S+).*(...)/,"$3-$1-$2T$4.$5Z")+'"':r.length?"["+function(){var e=[];return $each(r,function(t,n){e.push("string"==typeof n?'"'+$string.slashes(n)+'"':n)}),e.join(",")}()+"]":$json.encode(r);break;case"number":o=isFinite(r)?r:null;break;case"boolean":case"null":o=r;break;case"string":o='"'+$string.slashes(r)+'"'}i.push('"'+t+'"'+":"+o)}}return i.join(",")}return"{"+t(e)+"}"},isJSON:function(e){return"string"==typeof e&&""!==$string.trim(e)?d.test(e.replace(g,"@").replace(m,"]").replace(y,"")):!1}},$ajax:function(t,r){"object"==typeof t&&(r=t,t=n),r=r||{};var o,i=e.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,t=t||r.url,a=[];r.data&&$each(r.data,function(e,t){a.push(C(e,t))}),o=a.join("&").replace(/%20/g,"+"),"GET"===r.type?(i.open("GET",t+(f.test(t)?"&":"?")+o,!0),o=null):i.open(r.type||"POST",t,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),r.header&&$each(r.header,function(e,t){i.setRequestHeader(e,t)}),i.send(o),i.onreadystatechange=function(){4===i.readyState&&(200===i.status&&r.success?(o=i.responseText,r.success(""!==o&&$json.isJSON(o)?$json.decode(o):o)):r.error&&r.error(i.status))}},$require:function(e,n){var r,i=[];$each(e,function(e,a){v[a]||(v[a]=!0,i.push(a),r=/\.css[^\.]*$/gi.test(a)?$new("link",{type:"text/css",rel:"stylesheet",href:a}):$new("script",{type:"text/javascript",async:!0,src:a}),r.onload=r.onreadystatechange=function(e){("load"===e.type||/loaded|complete/.test(r.readyState))&&(r.onload=r.onreadystatechange=null,i.splice(i.indexOf(a),1),0===i.length&&n&&n())},$append(t.head||$tag(t,"head")[0]||o,r))})},$template:function(e,t){var n=b[e];return n||(n="var s='';s+='"+e.replace(/[\r\t\n]/g," ").split("'").join("\\'").replace(/\{\{#([\w]*)\}\}(.*)\{\{\/(\1)\}\}/gi,function(e,t,n){return"';var i=0,l=data."+t+".length,d=data."+t+";for(;i<l;i++){s+='"+n.replace(/\{\{(\.|this)\}\}/g,"'+d[i]+'").replace(/\{\{([\w]*)\}\}/g,"'+d[i].$1+'")+"'}s+='"}).replace(/\{\{(.+?)\}\}/g,"'+data.$1+'")+"';return s;",b[e]=n),t?new Function("data",n)(t):new Function("data",n)},$url:function(e){return encodeURIComponent(e)},$rand:function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},$browser:function(){for(var e=navigator.userAgent.toLowerCase(),t={},n="msie|firefox|opera|webkit|iPad|iPhone|android".split("|"),r=n.length,o=6;r--;)t[n[r]]=e.indexOf(n[r].toLowerCase())>-1;for(;12>o;o++)t["msie"+o]=e.indexOf("msie "+o)>-1;return t.is=function(t){return new RegExp(t,"ig").test(e)},t}()};for(var L in E)e[L]=E[L];E.version=r,e.Qatrix=E,$ready(function(){t.querySelectorAll||(E.Qselector=$append(t.body,$new("style"))),e.localStorage||(E.storage=$append(t.body,$new("link",{style:{behavior:"url(#default#userData)"}})))}),"function"==typeof define&&define.amd&&define("qatrix",[],E)}(window,document);